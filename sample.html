<!DOCTYPE html>
<html lang="en-us">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Bootstrap Basic Portfolio</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

</head>

<body>
    <style>
        #uploadForm>input {
            display: none;
        }

        img {
            margin: 10px;
            border: 1px solid grey;
        }
    </style>
    <div id="uploadForm">
        <label for="file-input" class="btn btn btn-lg">
            <span class="glyphicon glyphicon-camera"></span>
        </label>
        <input id="file-input" type="file" accept="image/*;capture=camera" onchange="previewFiles()" multiple />
    </div>
    <div id="preview"></div>
    <script type='text/javascript' src="https://wurfl.io/wurfl.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script>
        function previewFiles() {

            var preview = document.querySelector('#preview');
            var files = document.querySelector('input[type=file]').files;

            function readAndPreview(file) {

                // Make sure `file.name` matches our extensions criteria
                if (/\.(jpe?g|png|gif)$/i.test(file.name)) {
                    var reader = new FileReader();
                    reader.addEventListener("load", function () {
                        var image = new Image();
                        image.height = 100;
                        image.title = file.name;
                        image.src = this.result;
                        preview.appendChild(image);
                    }, false);

                    reader.readAsDataURL(file);

                }

            }

            if (files) {
                [].forEach.call(files, readAndPreview);
            }

        }
        function gettingURL() {
        var _URL = window.URL;
        $("#file-input").change(function (e) {
            var file, img;
            if ((file = this.files[0])) {
                img = new Image();
                img.src = _URL.createObjectURL(file);
                console.log(img.src); //image URL
            }
        });
    }
        if (WURFL.is_mobile == true) {
            console.log("i'm in");
            previewFiles();
            gettingURL();
        } else {
            console.log("i'm out!");
            $("#uploadForm").hide();
        }
    </script>
</body>

</html>